\lstset{
    basicstyle=\ttfamily,
    breaklines=true,
    breakautoindent=true,
    showstringspaces=true,
    linewidth=\linewidth
}